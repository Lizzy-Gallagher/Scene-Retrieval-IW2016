#!/bin/bash

# Run from data/weka

if [[ $# != 3 ]]; then
    echo "Usage: $0 filename category category"
    exit
fi

input_filename=$1
cat1=$2
cat2=$3
output_filename="filtered/$cat1""-""$cat2.arff"

echo
echo "Filtering..."
echo
echo "Old linecount:"
echo $(wc -l $input_filename)
echo

echo $output_filename

awk 'BEGIN { FS="," }; $2 == awk_cat1 || $2 == awk_cat2 || NR < 25 { print; }' awk_cat1=$cat1 awk_cat2=$cat2 $input_filename > $output_filename

echo "New linecount:"
echo $(wc -l $output_filename)
echo
